/* TOSS-inspired modern chat styles */

:root{
    --bg: #f3f6fb;
    --card: #ffffff;
    --primary: #0ea5a4; /* teal-ish */
    --muted: #98a0ad;
    --my-gradient-start: #d5f7ee;
    --my-gradient-end: #9fead0;
    --accent: #111827;
}

html,body,#root{height:100%;}
body{
    margin:0;
    font-family: Inter, Roboto, 'Helvetica Neue', Arial, sans-serif;
    background: linear-gradient(180deg,var(--bg), #eef3f9 60%);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}

.chat-app-container{
    width: min(760px, 96%);
    margin: 28px auto;
    display:flex;
    flex-direction:column;
    border-radius:16px;
    overflow:hidden;
    background: linear-gradient(180deg, rgba(255,255,255,0.88), rgba(250,250,250,0.9));
    box-shadow: 0 8px 30px rgba(16,24,40,0.08);
    border: 1px solid rgba(16,24,40,0.04);
}

.chat-app-container.full-layout{
    flex-direction:row;
    height:90vh;
    width:90%;
    margin:20px auto;
}

.room-list-container{
    width:25%;
    border-right:1px solid rgba(16,24,40,0.06);
    padding:16px 12px;
    overflow-y:auto;
    background:rgba(250,250,250,0.5);
}

.room-list-container h3{
    margin:0 0 12px 0;
    font-size:0.95rem;
    color:var(--accent);
    font-weight:700;
}

.room-item{
    padding:12px 14px;
    margin:8px 0;
    border-radius:10px;
    background:var(--card);
    border:1px solid rgba(16,24,40,0.04);
    cursor:pointer;
    font-size:0.9rem;
    color:var(--accent);
    transition:all 200ms ease;
}

.room-item:hover{
    background:rgba(14,165,164,0.06);
    border-color:var(--primary);
    transform:translateX(4px);
}

.room-item.active{
    background:linear-gradient(135deg,var(--primary),#06b6d4);
    color:#fff;
    border-color:var(--primary);
    box-shadow:0 4px 12px rgba(14,165,164,0.2);
}

.room-item.active .active-indicator{
    display:inline-block;
    font-size:0.75rem;
    opacity:0.9;
}

.chat-window-area{
    width:75%;
    display:flex;
    flex-direction:column;
}

.chat-header{
    padding:18px 20px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    background:transparent;
}
.chat-header h2{margin:0;font-weight:600;color:var(--accent);font-size:1.05rem}
.user-id{font-size:0.9rem;color:var(--muted)}

.chat-window{
    display:flex;
    flex-direction:column;
    flex:1;
    min-height:300px;
}

.chat-body{
    flex:1 1 auto;
    overflow-y:auto;
    padding:22px;
    display:flex;
    flex-direction:column;
    gap:12px;
}

/* custom scrollbar (WebKit) */
.chat-body::-webkit-scrollbar{width:10px}
.chat-body::-webkit-scrollbar-thumb{background:linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.06));border-radius:10px}

.message-container{
    display:flex;
    align-items:flex-end;
    width:100%;
}
.message-container.align-left{justify-content:flex-start}
.message-container.align-right{justify-content:flex-end}

.avatar{
    width:36px;height:36px;border-radius:50%;
    display:inline-flex;align-items:center;justify-content:center;
    background:linear-gradient(180deg,#eef6ff,#dfefff);
    color:var(--accent);font-weight:600;margin:0 10px 0 0;flex:0 0 36px;
    box-shadow:0 2px 6px rgba(2,6,23,0.06);
}
.avatar.me{margin:0 0 0 10px;background:linear-gradient(180deg,var(--my-gradient-start),var(--my-gradient-end));color:#044;}

.message-box{
    max-width:72%;
    padding:12px 14px;
    border-radius:14px;
    position:relative;
    line-height:1.35;
    word-break:break-word;
    box-shadow: 0 6px 18px rgba(12,20,30,0.06);
    transition: transform 160ms ease, box-shadow 160ms ease;
}
.message-box:hover{transform:translateY(-2px)}

.other-message{
    background:var(--card);
    border:1px solid rgba(16,24,40,0.04);
    color:var(--accent);
}
.other-message::after{
    content: '';
    position:absolute;left:-6px;top:12px;width:12px;height:12px;background:var(--card);border-left:1px solid rgba(16,24,40,0.04);transform:rotate(45deg);border-radius:2px;box-shadow:0 2px 6px rgba(2,6,23,0.02);
}

.my-message{
    background:linear-gradient(180deg,var(--my-gradient-start),var(--my-gradient-end));
    color: #033;
}
.my-message::after{
    content: '';
    position:absolute;right:-6px;top:12px;width:12px;height:12px;background:linear-gradient(180deg,var(--my-gradient-start),var(--my-gradient-end));transform:rotate(45deg);border-radius:2px;box-shadow:0 2px 6px rgba(2,6,23,0.02);
}

.message-author{font-size:0.78rem;color:var(--muted);margin-bottom:6px;font-weight:600}
.message-content p{margin:0;font-size:0.98rem}
.message-time{font-size:0.72rem;color:var(--muted);margin-top:8px;text-align:right}

/* 시스템 메시지 스타일 */
.system-message{
    display:flex;
    justify-content:center;
    align-items:center;
    width:100%;
    margin:12px 0;
    padding:8px 16px;
    font-size:0.82rem;
    color:#a0a8b8;
    font-weight:400;
    line-height:1.4;
    text-align:center;
    word-break:break-word;
}

.chat-footer{
    display:flex;align-items:center;padding:14px;border-top:1px solid rgba(16,24,40,0.04);background:transparent
}
.chat-footer input{flex:1;padding:12px 14px;border-radius:999px;border:1px solid rgba(16,24,40,0.06);outline:none;background:#fff;box-shadow:inset 0 1px 0 rgba(255,255,255,0.6);margin-right:12px}
.chat-footer input:focus{box-shadow:0 6px 20px rgba(3,7,18,0.06)}
.chat-footer button{background:var(--primary);color:#fff;border:none;padding:10px 16px;border-radius:999px;cursor:pointer;font-weight:600;box-shadow:0 8px 18px rgba(14,165,164,0.14)}
.chat-footer button:hover{filter:brightness(0.96)}

@media (max-width:900px){
    .chat-app-container.full-layout{
        flex-direction:column;
        height:auto;
    }
    .room-list-container{
        width:100%;
        border-right:none;
        border-bottom:1px solid rgba(16,24,40,0.06);
        max-height:120px;
    }
    .chat-window-area{
        width:100%;
    }
}

@media (max-width:520px){
    .chat-app-container{width:96%}
    .avatar{display:none}
    .message-box{max-width:85%}
    .room-item{font-size:0.8rem;padding:8px 10px}
}